(this["webpackJsonpimage-shop"]=this["webpackJsonpimage-shop"]||[]).push([[0],{30:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(22),s=r.n(a),i=r(9),o=r(20),u=r(19),l=r(12),j=r.n(l),b=r(16),m=r(4),h=r(1),d=n.a.createContext(),O=function(e){var t=e.children,r=Object(c.useState)([]),n=Object(m.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)([]),l=Object(m.a)(i,2),O=l[0],f=l[1],p=Object(c.useState)(""),x=Object(m.a)(p,2),v=x[0],g=x[1],y=Object(c.useState)(""),N=Object(m.a)(y,2),C=N[0],S=N[1],k=Object(c.useState)(""),I=Object(m.a)(k,2),F=I[0],E=I[1];Object(c.useEffect)((function(){var e="https://api.unsplash.com/photos?page=1&per_page=26&client_id=".concat("cMZJqVVxeFU8aL031UQzJFy-CmDmSEDW7QJtO8NqbLE");function t(){return(t=Object(b.a)(j.a.mark((function t(){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,s(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),E(t.t0.message+" images");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var _=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(""),r="https://api.unsplash.com/search/photos?page=1&per_page=26&query=".concat(v,"&client_id=").concat("cMZJqVVxeFU8aL031UQzJFy-CmDmSEDW7QJtO8NqbLE"),e.next=5,fetch(r);case 5:return c=e.sent,e.next=8,c.json();case 8:0===(n=e.sent).results.length?(S('There are 0 results for "'.concat(v,'", please try again.')),s([])):(s(Object(u.a)(n.results)),S(""));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(d.Provider,{value:{allPhotos:a,toggleFavorite:function(e){var t=a.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{liked_by_user:!t.liked_by_user}):t}));s(t)},addToCart:function(e){f((function(t){return[].concat(Object(u.a)(t),[e])}))},cartItems:O,removeFromCart:function(e){f((function(t){return t.filter((function(t){return t.id!==e.id}))}))},setCartItems:f,imageQuery:v,setImageQuery:g,SearchImage:_,nullQuery:C,error:F},children:t})};r(30);var f=function(){var e="";return e=Object(c.useContext)(d).cartItems.length>=1?"ri-shopping-cart-fill ri-fw ri-2x cart-icon":"ri-shopping-cart-line ri-fw ri-2x cart-icon",Object(h.jsxs)("header",{children:[Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("h2",{className:"pic-some-text",children:"Pic Some"})}),Object(h.jsx)(i.b,{to:"/cart",children:Object(h.jsx)("i",{className:e})})]})},p=r(2),x=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),r=t[0],n=t[1],a=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=a.current;return a.current.addEventListener("mouseenter",s),a.current.addEventListener("mouseleave",i),function(){e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",i)}}),[]);var s=function(){n(!0)},i=function(){n(!1)};return[r,a]},v=(r(36),function(e){var t=e.className,r=e.photo,n=Object(c.useContext)(d),a=n.toggleFavorite,s=n.addToCart,i=n.cartItems,o=n.removeFromCart,u=x(),l=Object(m.a)(u,2),j=l[0],b=l[1];return Object(h.jsxs)("div",{ref:b,className:"".concat(t," image-container"),children:[Object(h.jsx)("img",{src:r.urls.thumb,className:"image-grid",alt:r.alt_description}),r.liked_by_user?Object(h.jsx)("i",{onClick:function(){return a(r.id)},className:"ri-heart-fill favorite"}):j?Object(h.jsx)("i",{onClick:function(){return a(r.id)},className:"ri-heart-line favorite"}):void 0,i.find((function(e){return e.id===r.id}))?Object(h.jsx)("i",{onClick:function(){return o(r)},className:"ri-shopping-cart-fill cart shopping-cart-icon"}):j?Object(h.jsx)("i",{onClick:function(){return s(r)},className:"ri-add-circle-line plus-icon"}):void 0]})});r(37);var g=function(){var e=Object(c.useContext)(d),t=e.imageQuery,r=e.setImageQuery,n=e.SearchImage;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"query-input-form container",onSubmit:n,children:[Object(h.jsx)("label",{className:"query-label",children:Object(h.jsx)("input",{type:"text",className:"query-input",placeholder:"Search Images",value:t,onChange:function(e){return r(e.target.value)}})}),Object(h.jsx)("button",{type:"submit",className:"btn",children:"Search"})]})})};r(38);var y=function(){var e=Object(c.useContext)(d),t=e.allPhotos,r=e.nullQuery,n=e.error,a=t.map((function(e,t){return Object(h.jsx)(v,{className:(r=t,r%5===0?"big":r%6===0?"wide":void 0),photo:e},e.id);var r}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{}),Object(h.jsx)("main",{className:"Photos",children:a}),Object(h.jsx)("div",{className:"null-query-search",children:r}),Object(h.jsx)("div",{className:"api-error",children:n})]})},N=(r(39),function(e){var t=e.item,r=Object(c.useContext)(d).removeFromCart,n=x(),a=Object(m.a)(n,2),s=a[0],i=a[1],o=s?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(h.jsxs)("div",{className:"cart-item",children:[Object(h.jsx)("i",{className:o,ref:i,onClick:function(){return r(t)}}),Object(h.jsx)("img",{src:t.urls.thumb,alt:"Your Item"}),Object(h.jsx)("p",{className:"item-price",children:"$5.99"})]})}),C=(r(40),function(){var e=Object(c.useContext)(d),t=e.cartItems,r=e.setCartItems,n=Object(c.useState)(!1),a=Object(m.a)(n,2),s=a[0],i=a[1],o=t.map((function(e){return Object(h.jsx)(N,{item:e},e.id)})),u=(5.99*t.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"cart-title",children:"Cart Checkout"}),o,Object(h.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),t.length>0?Object(h.jsx)("div",{className:"btn-wrapper",children:Object(h.jsx)("button",{onClick:function(){i(!0),setTimeout((function(){i(!1),r([])}),3e3)},className:"order-btn",children:s?"Ordering...":"place order"})}):Object(h.jsx)("p",{className:"no-items",children:"You have no items in your cart."})]})});var S=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{}),Object(h.jsxs)(p.c,{children:[Object(h.jsx)(p.a,{exact:!0,path:"/",children:Object(h.jsx)(y,{})}),Object(h.jsx)(p.a,{path:"/cart",children:Object(h.jsx)(C,{})})]})]})};s.a.render(Object(h.jsx)(O,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(S,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.78052651.chunk.js.map